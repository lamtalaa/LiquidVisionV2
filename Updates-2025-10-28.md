# LiquidVision Updates — October 28, 2025

## Coordinator Enhancements
- Introduced a reusable coordinator registry (`CoordinatorRegistry.swift`) that stores child coordinators as type-erased factories keyed by their view-model type.
- `AppCoordinator` now consumes the registry, lazily resolves view models, and caches single instances per feature. Adding a new feature coordinator no longer requires editing `AppCoordinator`; register it (`registerIfNeeded`) and request the view model by type.
- `ClassificationCoordinator` and `SentimentCoordinator` conform to `ViewModelCoordinating`, which keeps their responsibilities focused on wiring dependencies while remaining pluggable.
- `LiquidVisionApp` requests view models through `appCoordinator.viewModel(...)`, showcasing how the registry replaces direct property access.

This implementation follows the coordinator expansion technique referenced in https://medium.com/p/3960ad9a6d85, leveraging type erasure to keep the root coordinator closed for modification yet open for extension.

## `@preconcurrency` Imports
`MobileNetImageClassifier` bridges Swift concurrency with Objective-C frameworks (`CoreImage`, `Vision`) that predate Swift's concurrency annotations. The `@preconcurrency` attribute marks those imports as being compiled without concurrency metadata, allowing us to interact with types like `CIImage` and `VNCoreMLRequest` inside an `actor` without triggering unsafe Sendable diagnostics. In practice, it tells the compiler “treat these APIs as if they were written before modern concurrency so I can opt into isolation guarantees manually,” which keeps the actor-based classifier warning-free.
